<!DOCTYPE html>
<html>
<head>
  <title>Lobby</title>
</head>
<body>

  <h2>Lobby de Salas</h2>

  <input id="nombreSala" placeholder="Nombre de sala">
  <button onclick="crearSala()">Crear Sala</button>

  <h3>Salas disponibles:</h3>
  <ul id="listaSalas"></ul>

  <script src="/socket.io/socket.io.js"></script>
  <script>
    const socket = io();

    function crearSala() {
      const nombre = document.getElementById("nombreSala").value;
      if (!nombre) return;

      socket.emit("crearSala", nombre);
    }

    socket.on("listaSalas", (salas) => {
      const lista = document.getElementById("listaSalas");
      lista.innerHTML = "";

      salas.forEach(sala => {
        const li = document.createElement("li");
        li.innerHTML = `
          ${sala.nombre} (${sala.jugadores} usuarios)
          <button onclick="entrar('${sala.nombre}')">Entrar</button>
        `;
        lista.appendChild(li);
      });
    });

    function entrar(nombre) {
      window.location.href = "/sala?nombre=" + nombre;
    }
  </script>

</body>
</html>















